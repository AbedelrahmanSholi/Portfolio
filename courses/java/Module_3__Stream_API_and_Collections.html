<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Security Meta Tags -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://unpkg.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), speaker=()">

    <link rel="stylesheet" href="../../css/courses/comprehensive_course_styling.css">
    <link rel="stylesheet" href="../../css/optimized/main.min.css">
    <link rel="stylesheet" href="../../css/optimized/courses.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Stream API and Collections</title>
    <!-- Base styles -->
    <link href="/css/general_root.css" rel="stylesheet" />
    <link href="/css/background_effect.css" rel="stylesheet" />
    
    <!-- Consolidated hover and z-index styles - loaded early to establish hierarchy -->
    <link href="/css/z_index_system.css" rel="stylesheet" />
    <link href="/css/hover_fix_comprehensive.css" rel="stylesheet" />
    <link href="/css/tooltip_hover.css" rel="stylesheet" />
    
    <!-- Component styles -->
    <link href="/css/slider.css" rel="stylesheet" />
    <link href="/css/enhanced_components.css" rel="stylesheet" />
    <link href="/css/skills_alternative.css" rel="stylesheet" />
    <link href="/css/timeline.css" rel="stylesheet" />
    <link href="/css/project_showcase_fixed.css" rel="stylesheet" />
    <link href="/css/technical_skills_fixed.css" rel="stylesheet" />
    
    <!-- Fixes and enhancements -->
    <link href="/css/mobile_responsive.css" rel="stylesheet" />
    <link href="/css/design_fixes.css" rel="stylesheet" />
    <link href="/css/skills_icons_fix.css" rel="stylesheet" />
    <link href="/css/layout_fixes.css" rel="stylesheet" />
    <link href="/css/contact_fix.css" rel="stylesheet" />
    <link href="/css/final_fixes.css" rel="stylesheet" />
    
    <!-- External resources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Courses section styles -->
    <link href="/css/courses/courses.css" rel="stylesheet" />
    <link href="/css/courses/enhanced_course_styling.css" rel="stylesheet" />
    
    <!-- Syntax highlighting for code blocks -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/atom-one-dark.min.css">
</head>

<body>
    <div class="course-content-wrapper">
        <div class="module-navigation">
            <a href="Module_2__Lambda_Expressions_and_Functional_Interfaces.html" class="nav-btn prev-btn">
                <i class="fas fa-chevron-left"></i> Previous: Lambda Expressions and Functional Interfaces
            </a>
            <a href="Module_4__Optional_Class_for_Null_Handling.html" class="nav-btn next-btn">
                Next: Optional Class for Null Handling <i class="fas fa-chevron-right"></i>
            </a>
        </div>

        <h1 id="module-3-stream-api-and-collections">Module 3: Stream API and Collections</h1>

        <h2 id="learning-objectives">Learning Objectives</h2>
        <ul>
            <li>Master the Java Stream API for data processing</li>
            <li>Understand intermediate and terminal operations</li>
            <li>Work with parallel streams for performance optimization</li>
            <li>Apply streams in test automation scenarios</li>
            <li>Understand modern collection operations</li>
        </ul>

        <h2 id="31-introduction-to-streams">3.1 Introduction to Streams</h2>

        <h3 id="what-are-streams">What are Streams?</h3>
        <p>Streams are a sequence of elements supporting sequential and parallel aggregate operations. They provide a high-level abstraction for processing collections of data in a functional style.</p>

        <h3 id="stream-characteristics">Stream Characteristics</h3>
        <ul>
            <li><strong>Not a data structure</strong>: Streams don't store elements</li>
            <li><strong>Functional in nature</strong>: Operations produce a result without modifying the source</li>
            <li><strong>Lazy evaluation</strong>: Intermediate operations are not executed until a terminal operation is invoked</li>
            <li><strong>Possibly unbounded</strong>: Collections have finite size, streams need not</li>
        </ul>

        <h3 id="creating-streams">Creating Streams</h3>
        <pre><code>// From collections
List&lt;String&gt; list = Arrays.asList("a", "b", "c");
Stream&lt;String&gt; stream = list.stream();

// From arrays
String[] array = {"a", "b", "c"};
Stream&lt;String&gt; streamFromArray = Arrays.stream(array);

// Using Stream.of()
Stream&lt;String&gt; streamOf = Stream.of("a", "b", "c");

// Infinite streams
Stream&lt;Integer&gt; infiniteStream = Stream.iterate(0, n -> n + 2);
Stream&lt;Double&gt; randomNumbers = Stream.generate(Math::random);
</code></pre>

        <h2 id="32-intermediate-operations">3.2 Intermediate Operations</h2>

        <h3 id="filter-operation">Filter Operation</h3>
        <p>Filter elements based on a predicate condition.</p>
        <pre><code>@Test
public void testFilterOperation() {
    List&lt;User&gt; users = getUserList();
    
    List&lt;User&gt; activeUsers = users.stream()
        .filter(User::isActive)
        .filter(user -> user.getAge() > 18)
        .collect(Collectors.toList());
    
    assertTrue("Should have active adult users", !activeUsers.isEmpty());
}
</code></pre>

        <h3 id="map-operation">Map Operation</h3>
        <p>Transform elements from one type to another.</p>
        <pre><code>@Test
public void testMapOperation() {
    List&lt;User&gt; users = getUserList();
    
    List&lt;String&gt; userEmails = users.stream()
        .map(User::getEmail)
        .collect(Collectors.toList());
    
    List&lt;String&gt; upperCaseNames = users.stream()
        .map(User::getName)
        .map(String::toUpperCase)
        .collect(Collectors.toList());
    
    assertEquals(users.size(), userEmails.size());
}
</code></pre>

        <h3 id="flatmap-operation">FlatMap Operation</h3>
        <p>Flatten nested structures into a single stream.</p>
        <pre><code>@Test
public void testFlatMapOperation() {
    List&lt;Department&gt; departments = getDepartments();
    
    List&lt;User&gt; allUsers = departments.stream()
        .flatMap(dept -> dept.getUsers().stream())
        .collect(Collectors.toList());
    
    List&lt;String&gt; allSkills = departments.stream()
        .flatMap(dept -> dept.getUsers().stream())
        .flatMap(user -> user.getSkills().stream())
        .distinct()
        .collect(Collectors.toList());
    
    assertTrue("Should have users from all departments", !allUsers.isEmpty());
}
</code></pre>

        <h2 id="33-terminal-operations">3.3 Terminal Operations</h2>

        <h3 id="collect-operation">Collect Operation</h3>
        <p>Collect stream elements into various data structures.</p>
        <pre><code>@Test
public void testCollectOperations() {
    List&lt;User&gt; users = getUserList();
    
    // Collect to List
    List&lt;String&gt; names = users.stream()
        .map(User::getName)
        .collect(Collectors.toList());
    
    // Collect to Set
    Set&lt;String&gt; uniqueRoles = users.stream()
        .map(User::getRole)
        .collect(Collectors.toSet());
    
    // Collect to Map
    Map&lt;String, User&gt; userMap = users.stream()
        .collect(Collectors.toMap(User::getEmail, user -> user));
    
    // Group by role
    Map&lt;String, List&lt;User&gt;&gt; usersByRole = users.stream()
        .collect(Collectors.groupingBy(User::getRole));
    
    assertFalse("Should have user names", names.isEmpty());
    assertFalse("Should have unique roles", uniqueRoles.isEmpty());
}
</code></pre>

        <h3 id="reduce-operation">Reduce Operation</h3>
        <p>Combine stream elements into a single result.</p>
        <pre><code>@Test
public void testReduceOperations() {
    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
    
    // Sum using reduce
    Optional&lt;Integer&gt; sum = numbers.stream()
        .reduce((a, b) -> a + b);
    
    // Sum with identity
    Integer sumWithIdentity = numbers.stream()
        .reduce(0, (a, b) -> a + b);
    
    // Find maximum
    Optional&lt;Integer&gt; max = numbers.stream()
        .reduce(Integer::max);
    
    assertEquals(15, sumWithIdentity.intValue());
    assertTrue("Sum should be present", sum.isPresent());
    assertEquals(15, sum.get().intValue());
}
</code></pre>

        <h2 id="34-parallel-streams">3.4 Parallel Streams</h2>

        <h3 id="when-to-use-parallel-streams">When to Use Parallel Streams</h3>
        <p>Parallel streams can improve performance for CPU-intensive operations on large datasets.</p>
        <pre><code>@Test
public void testParallelStreams() {
    List&lt;Integer&gt; largeList = IntStream.rangeClosed(1, 1000000)
        .boxed()
        .collect(Collectors.toList());
    
    // Sequential processing
    long startTime = System.currentTimeMillis();
    long sequentialSum = largeList.stream()
        .mapToLong(Integer::longValue)
        .sum();
    long sequentialTime = System.currentTimeMillis() - startTime;
    
    // Parallel processing
    startTime = System.currentTimeMillis();
    long parallelSum = largeList.parallelStream()
        .mapToLong(Integer::longValue)
        .sum();
    long parallelTime = System.currentTimeMillis() - startTime;
    
    assertEquals(sequentialSum, parallelSum);
    System.out.println("Sequential time: " + sequentialTime + "ms");
    System.out.println("Parallel time: " + parallelTime + "ms");
}
</code></pre>

        <h2 id="35-practical-test-automation-examples">3.5 Practical Test Automation Examples</h2>

        <h3 id="test-data-processing">Test Data Processing</h3>
        <pre><code>@Test
public void testDataProcessing() {
    List&lt;TestResult&gt; testResults = getTestResults();
    
    // Calculate pass rate
    double passRate = testResults.stream()
        .mapToDouble(result -> result.isPassed() ? 1.0 : 0.0)
        .average()
        .orElse(0.0);
    
    // Find failed tests
    List&lt;String&gt; failedTests = testResults.stream()
        .filter(result -> !result.isPassed())
        .map(TestResult::getTestName)
        .collect(Collectors.toList());
    
    // Group by test suite
    Map&lt;String, List&lt;TestResult&gt;&gt; resultsBySuite = testResults.stream()
        .collect(Collectors.groupingBy(TestResult::getSuiteName));
    
    assertTrue("Pass rate should be above 80%", passRate > 0.8);
    System.out.println("Failed tests: " + failedTests);
}
</code></pre>

        <h3 id="web-element-processing">Web Element Processing</h3>
        <pre><code>@Test
public void testWebElementProcessing() {
    List&lt;WebElement&gt; elements = driver.findElements(By.className("test-item"));
    
    // Find visible elements
    List&lt;WebElement&gt; visibleElements = elements.stream()
        .filter(WebElement::isDisplayed)
        .collect(Collectors.toList());
    
    // Get all text content
    List&lt;String&gt; textContents = elements.stream()
        .filter(WebElement::isDisplayed)
        .map(WebElement::getText)
        .filter(text -> !text.isEmpty())
        .collect(Collectors.toList());
    
    // Check if any element contains specific text
    boolean hasExpectedText = elements.stream()
        .anyMatch(element -> element.getText().contains("Expected Text"));
    
    assertFalse("Should have visible elements", visibleElements.isEmpty());
    assertTrue("Should contain expected text", hasExpectedText);
}
</code></pre>

        <div class="module-navigation">
            <a href="Module_2__Lambda_Expressions_and_Functional_Interfaces.html" class="nav-btn prev-btn">
                <i class="fas fa-chevron-left"></i> Previous: Lambda Expressions and Functional Interfaces
            </a>
            <a href="Module_4__Optional_Class_for_Null_Handling.html" class="nav-btn next-btn">
                Next: Optional Class for Null Handling <i class="fas fa-chevron-right"></i>
            </a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
    <script src="/js/courses/mermaid_loader.js"></script>
    <script src="/js/courses/mermaid_renderer.js"></script>
    <script src="/js/courses/content_loader.js"></script>
    <script src="/js/courses/diagram_loader.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Highlight code blocks
            document.querySelectorAll("pre code").forEach((block) => {
                hljs.highlightBlock(block);
            });

            // Initialize Mermaid diagrams
            if (typeof mermaid !== "undefined") {
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            securityLevel: 'loose',
            themeVariables: {
                primaryColor: '#3498db',
                primaryTextColor: '#fff',
                primaryBorderColor: '#1f77b4',
                lineColor: '#f8f9fa',
                secondaryColor: '#6c757d',
                tertiaryColor: '#2c3e50',
                background: '#1e1e2e',
                mainBkg: '#2c3e50',
                nodeBorder: '#3498db',
                clusterBkg: 'rgba(52, 152, 219, 0.2)',
                clusterBorder: '#3498db',
                titleColor: '#3498db'
            }
        });
        
        // Ensure diagram renders after page load
        document.addEventListener('DOMContentLoaded', function() {
            mermaid.init();
        });
            }
        });
    </script>
</body>
</html>

