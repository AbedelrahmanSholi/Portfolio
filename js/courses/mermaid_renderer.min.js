function processMermaidDiagrams() {
const mermaidBlocks = document.querySelectorAll('pre.mermaid, div.mermaid');
mermaidBlocks.forEach((block, index) => {
if (!block.id) {
block.id = 'mermaid-diagram-' + index;
}
if (!block.classList.contains('mermaid')) {
block.classList.add('mermaid');
}
});
if (typeof mermaid !== 'undefined' && mermaidBlocks.length > 0) {
try {
mermaid.init(undefined, '.mermaid');
} catch (error) {
console.error('Error initializing Mermaid diagrams:', error);
}
}
}
if (typeof mermaid !== 'undefined') {
mermaid.initialize({
startOnLoad: false, 
theme: 'dark',
securityLevel: 'loose',
themeVariables: {
primaryColor: '#3498db',
primaryTextColor: '#fff',
primaryBorderColor: '#1f77b4',
lineColor: '#f8f9fa',
secondaryColor: '#6c757d',
tertiaryColor: '#2c3e50',
background: '#1e1e2e',
mainBkg: '#2c3e50',
nodeBorder: '#3498db',
clusterBkg: 'rgba(52, 152, 219, 0.2)',
clusterBorder: '#3498db',
titleColor: '#3498db'
}
});
}
window.processMermaidDiagrams = processMermaidDiagrams;
document.addEventListener('DOMContentLoaded', processMermaidDiagrams);